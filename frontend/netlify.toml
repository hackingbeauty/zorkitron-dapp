# Settings for the [build] key are global and are applied to
# all deploy contexts unless overridden by a context-specific setting.
[build]
  # Directory where the build system installs dependencies
  # and runs your build. Store your package.json, .nvmrc, etc here.
  # If not set, defaults to the root directory.
  base = "frontend/"
  publish = "frontend/build/"

  # Directory that contains the deploy-ready HTML files and
  # assets generated by the build. This is an absolute path relative 
  # to the base directory, which is the root by default (/).
  # This sample publishes the directory located at the absolute 
  # path "root/project/build-output"

[[headers]]
  for = "/*"
  [headers.values]
    # https://owasp.org/www-project-secure-headers/#tab=Headers
    X-Frame-Options = "DENY"
    X-XSS-Protection = "0"
    Content-Security-Policy-Report-Only = "default-src 'self' https://*.cloudfront.net; script-src 'self' https://*.cloudfront.net https://*.mixpanel.com https://*.google-analytics.com https://*.sentry.io; style-src 'self' 'unsafe-inline' https://*.cloudfront.net; connect-src https://*.infura.io https://*.doubleclick.net https://*.mixpanel.com https://*.google-analytics.com wss://*.walletconnect.org wss://*.blocknative.com https://api.thegraph.com https://*.sentry.io https://*.alchemyapi.io; img-src 'self' data: https://*.google-analytics.com; object-src 'none'; report-uri https://notional.report-uri.com/r/d/csp/enforce"

  # Default build command.
  command = "echo 'default context'"

  [[redirects]]
    # Redirects for React Routers
    from = "/*"
    to = "/"
    status = 200